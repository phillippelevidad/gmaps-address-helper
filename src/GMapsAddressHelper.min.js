/**
 * @file Helper for extracting address info from a GMaps Place object.
 * @author Phillippe Santana, http://www.ideianoar.com.br
 * @license
 * Copyright (c) 2018 Ideia no Ar Tecnologia da Informacao Ltda.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 * This script was based on samples by Google, at:
 * https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete
 * https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform
 */
function GMapsAddressHelper(e){this._place=e}GMapsAddressHelper.prototype.extractParts=function(){if(!this._place||!this._place.geometry)throw"No details available.";var e={address:this._getAddressName(),route:this._extractPart(["route"]),streetNumber:this._extractPart(["street_number"]),neighborhood:this._extractPart(["sublocality","sublocality_level_1"]),city:this._extractPart(["administrative_area_level_2","locality"]),state:this._extractPart(["administrative_area_level_1"]),country:this._extractPart(["country"]),zipCode:this._extractPart(["postal_code_prefix","postal_code"])};return e.neighborhood===e.city&&(e.neighborhood=null),e},GMapsAddressHelper.prototype.setPlace=function(e){this._place=e},GMapsAddressHelper.prototype._extractPart=function(e){for(var t in this._place.address_components)for(var r in this._place.address_components[t].types)for(var a in e)if(e[a]===this._place.address_components[t].types[r]){var s=this._place.address_components[t];return{found:!0,longName:s.long_name,shortName:s.short_name}}return{found:!1,longName:null,shortName:null}},GMapsAddressHelper.prototype._getAddressName=function(){var e=this._place.address_components;function t(t){return[e[0]&&e[0][t]||"",e[1]&&e[1][t]||"",e[2]&&e[2][t]||""].join(" ")}return{found:!0,longName:t("long_name"),shortName:t("short_name")}};